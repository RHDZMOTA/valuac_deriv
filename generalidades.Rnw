<<<<<<< HEAD
\documentclass{book}
\usepackage{graphicx}
\usepackage{amsmath}
=======
%% No modificar el comando \Sexpr
\Sexpr{set_parent('master_code.Rnw')}
\documentclass{book}
\usepackage{graphicx}
\usepackage{amsmath}
\begin{document}
>>>>>>> b102c1f1a84686b082336950b3dd65a7fc9e0e19

\section{INTRODUCCI??N}
Dentro de los procesos estoc??sticos, existen diferentes m??todos para calcular la probabilidad de que cierto evento suceda con base en diferentes supuestos y dentro de los mismos procesos estoc??sticos, existe un tipo de m??todo, en el cual el resultado del evento futuro depende del evento inmediatamente anterior; estas son las cadenas de Markov. El ejemplo m??s trivial para explicar una cadena de Markov es en cual catalogamos el clima en solamente con dos posibles resultados: Que el clima el d??a de ma??ana sea soleado o sea lluvioso, donde la variable independiente ser??a el clima el d??a de hoy, soleado. Con base en esta informaci??n (Que es el evento inmediato anterior) tenemos las siguientes probabilidades:
Probabilidad (Ma??ana est?? soleado | Dado que hoy es lluvioso ) = 0.50 Entonces, dado que el d??a de ma??ana puede ser soleado o lluvioso, concluimos que: Probabilidad (Ma??ana lluvioso | Dado que hoy es lluvioso ) = 0.50 Similarmente: Probabilidad (Ma??ana lluvioso | Dado que hoy est?? soleado ) = 0.10 Por lo tanto: Probabilidad (Ma??ana soleado | Dado que hoy est?? soleado ) = 0.90
Las cuatro probabilidades anteriores pueden ser representadas como una matriz de transici??n, la cual representa las probabilidades de que el clima se mueva de un estado a otro de la siguiente manera:

\begin{center}
    \begin{tabular}{ | l | l | l | p{5cm} |}
    \hline
    Soleado & Lluvioso\\ \hline
    0.9 & 0.1 & Soleado \\ \hline
    0.5 & 0.5 & Lluvioso \\  
    \hline
    \end{tabular}
\end{center}


Dado los resultados anteriores, podemos hacernos las siguientes preguntas: ??Si el clima est?? soleado el d??a de hoy, cual ser?? el clima de ma??ana? -Dado que no sabemos que pasar??, lo mejor que podemos decir es que existe una probabilidad de 90 de que est?? soleado y una probabilidad de 10 de que est?? lluvioso.
??Y dentro de dos d??as? Si la predicci??n uno arroja una probabilidad de 90 de que est?? soleado y 10 lluvioso, dentro de dos d??as ser?? Prob( Soleado dentro de dos d??as) = 0.9 0.9 + 0.1 0.5 = 0.86 de igual manera, la probabilidad de que est?? lluvioso ser?? Prob( Lluvioso dentro de dos d??as) = 0.1 0.5 + 0.9 0.1 = 0.14.
De este ejemplo es importante rescatar los conceptos b??sicos de la ??lgebra lineal (Matrices de transici??n) estos calculos corresponden a todas las permutaciones en transiciones de un paso a otro (soleado-a-soleado (SaS), soleado-a-lluvioso (SaL) o lluvioso-a-lluvioso (LaL)) con sus respectivas probabilidades antes calculadas:


\includegraphics[width=\textwidth]{transicion}

En la parte inferior de la imagen podemos ver como calcular la probabilidad de un estado futuro, (t+1 o t+2) dadas las probabilidades para cada estado (Soleado o lluvioso) en el tiempo cero (Hoy o t0) como una simple multiplicaci??n de matrices.
Si continuamos prediciendo el clima de esta manera, eventualmente nos daremos cuenta de que el dia n de predicci??n ser?? con un n muy grande (propongamos 30) y se establece en las siguientes probabilidades "De equilibrio:"
Prob(Soleado) = 0.833 Prob(Lluvioso) = 0.167
En otras palabras, podemos decir que para el d??a N y para el d??a N+1 los pron??sticos permanecen iguales. De igual manera podemos comprobar que las probabilidades de "Equilibrio" no dependen del clima del d??a de hoy, pues tendr??amos el mismo pron??stico si comenzamos por asumir que el clima del d??a es soleado o lluvioso. Prob(Sunny) = 0.833 Prob(Rainy) = 0.167
El ejemplo anterior solamente funcionar?? si el estado de transici??n de las probabilidades satisface diferentes condiciones, pero en este caso solamente enfoquemonos en las caracter??sticas de esta cadena de markov que cumple con todas las condiciones.
Entonces, Markov Chain Monte Carlo explota todas las caracter??sticas de cadenas de markov explicadas anteriormente de la siguiente manera:
Queremos generar muestras aleatorias de nuestra distribuci??n objetivo. Cuando entonces identifiquemos la manera de construir una cadena de markov que cumpla con las condiciones como la distribuci??n de equilibrio de probabilidad que es nuestra distribuci??n objetivo.
Si podemos construir dicha cadena, entonces podemos comenzar arbitrariamente desde cualquier punto e ir iterando la cadena de Markov. Eventualmente, las muestras que generamos apareceran como si hubieran sido obtenidas con nuestra distribuci??n objetivo.

Por ende, es sencillo conlcuir que el objetivo general del proyecto, que consiste en la modelaci??n del tipo de cambio, tendr?? una modelaci??n m??s adecuada con el proceso MCMC. 

\section{OBJETIVO GENERAL}

El presente trabajo tiene como finalidad el simular, con base en diferentes modelos (Heston, Metropolis-Hastings ETC) trayectorias futuras del tipo de cambio "D??lar/Peso" con la finalidad de encontrar la posici??n en tiempo T del precio de ejercicio. De igual manera, se obtendr?? la probabilidad de ejercer la opci??n gracias a las trayectorias previamente simuladas. 

\section{OBJETIVO ESPEC??FICO}

Markov Chain Monte Carlo:

Supongamos que es necesario generar $x~\pi(x)$. La idea principal de MCMC es el de construir una cadena de Markov para una x(i) en cada posici??n, que inicie desde que i=0 hasta infinito que cumpla con lo siguiente: \begin{equation} \label{eq:1} \lim_{i \to \infty} P(x(i)=x) = \pi (x) \end{equation}. Una cadena de Markov est?? pre-definida por un estado inicial $P(X_0 = x_0 = g(x_0))$. y el Kernel de transici??n $P(y|x) = P(X_i+1=y|X_i=x)$. Si la cadena es erg??dica, entonces la distribuci??n es ??nica. $\Pi(x):\lim_{i \to \infty} f(x_i)$ Por lo tanto \begin{equation} \label{eq:2} \pi(y)= \sum \pi(x) p(y|x) \forall y \in \cap \end{equation}. Una vez definida esta ecuaci??n, ser?? necesario implementarla para cada x, obteniendo el siguiente sistema de ecuaciones:\begin{equation} \label{eq:3} 
\pi(x_2)= \pi (x_1) p(x_2|x_1) + \pi (x_1) p(x_2|x_1) + ...\pi(x_n) p(x_2|x_n)
\end{equation}.
\begin{equation} \label{eq:4} 
\pi(x_n)= \pi (x_1) p(x_n|x_1) + \pi (x_2) p(x_n|x_2) + ...\pi(x_n) p(x_n|x_n)
\end{equation}.

Existe un n??mero infinito de Kernel's de transici??n  $P(y|x)$ tales que la distribuci??n estacionaria de la cadena de Markov es $\pi(x)$. Para nuestro caso, puede ser utilizado el algoritmo de \emph {Metropolis-Hastings} para construir el Kernel de transici??n. La idea es escoger cualquier otro Kernel de transici??n $Q(y|x)$. Por lo tanto, ahora existe una probabilidad de que $Q(y|x)=p(y|x)$.

Bajo esta metodolog??a obtenemos lo siguiente:
\begin{equation} \label{eq:5} 
P(y|x) = Q(y|x) \alpha(y|x), y \neq x, \alpha(y|x), \varepsilon [0;1] 
\end{equation}.

La condici??n o propiedad para una cadena de Markov homogenea, como la anterior ser??a la siguiente:
\begin{equation} \label{eq:6} 
\pi(x) Q(y|x) \alpha(y|x) = \pi(y) Q(x|y) \alpha(x|y), \forall x\neq y
\end{equation}.

\end{document}


\begin{document}

\section{INTRODUCCI\'ON}
Dentro de los procesos estoc\'asticos, existen diferentes m\'etodos para calcular la probabilidad de que cierto evento suceda con base en diferentes supuestos y dentro de los mismos procesos estoc\'asticos, existe un tipo de m\'etodo, en el cual el resultado del evento futuro depende del evento inmediatamente anterior; estas son las cadenas de Markov. El ejemplo m\'as trivial para explicar una cadena de Markov es en cual catalogamos el clima en solamente con dos posibles resultados: Que el clima el d\'ia de ma\'nana sea soleado o sea lluvioso, donde la variable independiente ser\'ia el clima el d\'ia de hoy, soleado. Con base en esta informaci\'on (Que es el evento inmediato anterior) tenemos las siguientes probabilidades:
Probabilidad (Ma\'nana est\'e soleado | Dado que hoy es lluvioso ) = 0.50 Entonces, dado que el d\'ia de ma\'nana puede ser soleado o lluvioso, concluimos que: Probabilidad (Ma\'nana lluvioso | Dado que hoy es lluvioso ) = 0.50 Similarmente: Probabilidad (Ma\'nana lluvioso | Dado que hoy est\'a soleado ) = 0.10 Por lo tanto: Probabilidad (Ma\'nana soleado | Dado que hoy est\'a soleado ) = 0.90
Las cuatro probabilidades anteriores pueden ser representadas como una matriz de transici\'on, la cual representa las probabilidades de que el clima se mueva de un estado a otro de la siguiente manera:

\begin{center}
    \begin{tabular}{ | l | l | l | p{5cm} |}
    \hline
    Soleado & Lluvioso\\ \hline
    0.9 & 0.1 & Soleado \\ \hline
    0.5 & 0.5 & Lluvioso \\  
    \hline
    \end{tabular}
\end{center}


Dado los resultados anteriores, podemos hacernos las siguientes preguntas: ??Si el clima est\'a soleado el d\'ia de hoy, cual ser\'a el clima de ma\'nana? -Dado que no sabemos que pasar\'a, lo mejor que podemos decir es que existe una probabilidad de 90 de que est\'e soleado y una probabilidad de 10 de que est\'e lluvioso.
??Y dentro de dos d\'ias? Si la predicci\'on uno arroja una probabilidad de 90 de que est\'e soleado y 10 lluvioso, dentro de dos d\'ias ser\'a Prob( Soleado dentro de dos d\'ias) = 0.9 0.9 + 0.1 0.5 = 0.86 de igual manera, la probabilidad de que est\'e lluvioso ser\'a Prob( Lluvioso dentro de dos d\'ias) = 0.1 0.5 + 0.9 0.1 = 0.14.
De este ejemplo es importante rescatar los conceptos b\'asicos de la \'algebra lineal (Matrices de transici\'on) estos calculos corresponden a todas las permutaciones en transiciones de un paso a otro (soleado-a-soleado (SaS), soleado-a-lluvioso (SaL) o lluvioso-a-lluvioso (LaL)) con sus respectivas probabilidades antes calculadas:


\includegraphics[width=\textwidth]{transicion}

En la parte inferior de la imagen podemos ver como calcular la probabilidad de un estado futuro, (t+1 o t+2) dadas las probabilidades para cada estado (Soleado o lluvioso) en el tiempo cero (Hoy o t0) como una simple multiplicaci\'on de matrices.
Si continuamos prediciendo el clima de esta manera, eventualmente nos daremos cuenta de que el dia n de predicci\'on ser\'a con un n muy grande (propongamos 30) y se establece en las siguientes probabilidades "De equilibrio:"
Prob(Soleado) = 0.833 Prob(Lluvioso) = 0.167
En otras palabras, podemos decir que para el d\'ia N y para el d\'ia N+1 los pron\'osticos permanecen iguales. De igual manera podemos comprobar que las probabilidades de "Equilibrio" no dependen del clima del d\'ia de hoy, pues tendr\'iamos el mismo pron\'ostico si comenzamos por asumir que el clima del d\'ia es soleado o lluvioso. Prob(Sunny) = 0.833 Prob(Rainy) = 0.167
El ejemplo anterior solamente funcionar\'a si el estado de transici\'on de las probabilidades satisface diferentes condiciones, pero en este caso solamente enfoquemonos en las caracter\'isticas de esta cadena de markov que cumple con todas las condiciones.
Entonces, Markov Chain Monte Carlo explota todas las caracter\'isticas de cadenas de markov explicadas anteriormente de la siguiente manera:
Queremos generar muestras aleatorias de nuestra distribuci\'on objetivo. Cuando entonces identifiquemos la manera de construir una cadena de markov que cumpla con las condiciones como la distribuci\'on de equilibrio de probabilidad que es nuestra distribuci\'on objetivo.
Si podemos construir dicha cadena, entonces podemos comenzar arbitrariamente desde cualquier punto e ir iterando la cadena de Markov. Eventualmente, las muestras que generamos apareceran como si hubieran sido obtenidas con nuestra distribuci\'on objetivo.


\section{OBJETIVO GENERAL}
Mediante la implementaci\'on de diferentes modelos y con la metodolog\'ia propuesta del tipo Markov-Chain Monte Carlo se pretende estimar ganancias esperadas a obtener al final del ejercicio de una opci\'on tipo call o un contrato futuro. De igual manera, estimar la p\'erdida m\'axima o VaR para cada ejercicio. Por ende, es sencillo conlcuir que el objetivo general del proyecto, que consiste en la modelaci\'on del tipo de cambio, tendr\'a una modelaci\'on m\'as adecuada con el proceso MCMC.

\section{OBJETIVO ESPEC\'IFICO}
El presente trabajo tiene como finalidad el simular, con base en diferentes modelos (Metropolis-Hastings) trayectorias futuras del tipo de cambio "D\'olar/Peso" con la finalidad de encontrar la posici\'on en tiempo T del precio de ejercicio. De igual manera, se obtendr\'a la probabilidad de ejercer la opci\'on gracias a las trayectorias previamente simuladas.
\end{document}